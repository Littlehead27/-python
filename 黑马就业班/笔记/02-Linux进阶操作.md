# 一、基本概念

## 1.1 重定向 **

输出重定向 - 把原本输出到终端的命令结果 转而输出到文件中

​	**覆盖**输出重定向 >

​		命令 > 文件名  把命令结果直接覆盖写入到文件中 w模式

```shell
ls > test1.txt  # 如果输出到不存在的文件里，则新建这个文件
cat test.txt  # 有数据
ls -l > test1.txt  # 发现数据被覆盖
```

![](D:\黑马python就业班\day02-Linux 进阶操作\老师\02-其他资源\01-输出重定向.png)

​	**追加**输出重定向 >>

​		命令 >> 文件名  把命令结果追加写入到文件中 a模式

```shell
ls -al >> test1.txt  # 发现数据追加原有文件末尾了
```

![](D:\黑马python就业班\day02-Linux 进阶操作\老师\02-其他资源\02-追加输出.png)



# 二、命令

## 2.1 查看文件内容 **

cat 文件名：直接**全部**显示文件内容

more 文件名：**分屏**显示文件内容



管道  命令 | 命令

​	把左面命令的输出结果 传递到 右面命令当做输入

```shell
cat test1.txt | more   # 分屏查看文件内容
more 文件
```

```shell
ls -al /usr/bin/ | more  # 分屏查看目录下的信息
```

> 左边的命令一定要有输出 右边命令需要输入

可以多个管道连用





## 2.2 链接 **

操作链接link 文件 间接访问修改源文件

分类：

- 软链接
- 硬链接

创建：

​	软链接  **ln -s 源文件 目标文件**

```sh
ln -s aa.txt aa_s.txt
```

![](D:\黑马python就业班\day02-Linux 进阶操作\老师\02-其他资源\04-l 字符标识软链接.png)

​	硬链接 **ln 源文件 目标文件**

```shell
ln aa.txt aa_h.txt
```

区别（理解）：

- 软链接依赖于源文件，如果源文件找不到则失效，**而硬链接无影响**
- 如果源文件和链接文件不在同一目录，路径**都**写成**绝对路径**（也就是说，源文件和链接文件都要写成绝对路径的方式）
- 目录可以创建软链接 -> 用以快捷访问某一个目录，硬链接不可以

![](D:\黑马python就业班\day02-Linux 进阶操作\我的\硬链接-1.png)

自行发现：

- 修改软链接或者硬链接文件内容，源文件文件内容也会跟着修改
- 同一个文件可以同时创建多个软链接和硬链接
- 一个文件创建软链接后，可以给软链接创建硬链接，修改链接文件内容，源文件内容跟着修改
- 一个文件创建软链接后，再给软链接创建硬链接，但是硬链接指向的是源文件，也就是说删除软链接不影响硬链接，但是删除或者移动源文件，再cat报错，与直接创建硬链接不同（见区别第一条）

```shell
ln -s 1.txt 11.txt  # 软链接
ln 11.txt 111_h.txt  # 给软链接创建硬链接

# 结果
111_h.txt -> 1.txt
11.txt -> 1.txt

# 注意
lrwxrwxrwx -- 软链接权限前面有 l 
```



扩展：

- 硬链接本质：硬链接和源文件是同一份数据的不同的名称而已
- 创建一个硬链接只是增加一个名字而已，硬链接数会+1
- 删除一个源文件或者硬链接，只是删除一个名字，硬链接数会-1

![](D:\黑马python就业班\day02-Linux 进阶操作\老师\02-其他资源\03-硬链接.png)



## 2.3 grep文本搜索 **

格式：grep 选项 “字符串数据” 文件名

选项：

- -n：显示匹配数据所在的行号
- -i：忽略大小写
- -v：反选条件

正则表达式 - **理解**

- ^：匹配开始位置
- $：匹配结束位置
- .：匹配非换行符（一个 . 代表一个占位）

> grep 可以结合管道 对前面一个命令的输出结果进行过滤
>
> wc -l 文件名：统计一个文件内容的行数
>
> ls -l：查看当前目录下的文件目录信息
>
> ls -l | grep “^l” -v：查看当前目录下的文件目录信息并搜索以非 l 开始的行
>
> ls -l | grep "^l" -v | wc -l   查看当前目录下的文件目录信息并搜索以非 l 开始的行并统计行数



## 2.4 查找文件 **

find 路径 -name “文件名特征”

> 如果查找全系统中所有文件，需要加sudo 命令，表示以系统管理员权限运行后面的命令
>
> 通配符和正则不是一类
>
> 通配符：使用一种特殊的字符去通配一类数据
>
> \* 匹配任意个任意字符
>
> ？匹配1个任意字符

可以使用通配符的命令有：ls cp rm mv find tar 跟文件名和目录名 一般都可以

```shell
sudo find / -name ‘*.pypy’  查找系统目录下以.pypy 结尾的文件
```





## 2.5 归档 tar ***

```shell
-c 打包
-v 显示过程
-f 指定操作归档文件名称
-x 解包
-z gzip 算法    .tar.gz / .tgz
-j bzip2 算法    .tar.bz2
```

- 将很多文件打包

```shell
tar -cvf xx.tar 需要被打包的文件1 2 3 4
```

- 解包

```shell
tar -xvf xx.tar
```

> 打包并没有压缩

![](D:\黑马python就业班\day02-Linux 进阶操作\老师\02-其他资源\05-打包不压缩.png)

- 打包并且使用gzip 压缩

```shell
tar -zcvf xx.tar.gz 需要被打包的文件1 2 3 4
```

- 打包并且使用bzip2 压缩

```shell
tar -jcvf xx.tar.bz2 需要被打包的文件1 2 3 4
```

- 使用gzip 解压缩并解包

```shell
tar -zxvf 2.tar.gz
```

- 使用bzip2 解压并解包

```shell
tar -jxvf 3.tar.bz2
```

- -C解压缩到指定路径

```shell
tar -zxvf 2.tar.gz -C /home/python/Desktop
```



## 2.6 修改权限（理解）

权限 rw-rw-r–

r 读	w 写	x 可执行

```shell
-rw-rw-r-- 1 python python       721 3月  18 17:08 01验证TCP基于字节流.py
```

权限分为三组：

| 文件所属用户 | 文件所属的用户所在的组 |  其他   |  所有  |
| :----------: | :--------------------: | :-----: | :----: |
|   user  u    |        group  g        | other o | all  a |
|     rw-      |          rw-           |   r--   |        |

- 字母设定法

  chmod [augo] [-=+] [rwx] 文件名



- 数字设定法 - 高手  直观

  每一个数字代表一组权限的和

  r 读	4

  w 写	2

  x 可执行	1

  | rw-  | rw-  | r--  |
  | ---- | ---- | ---- |
  | 6    | 6    | 4    |

  | rwx  | r-x  | --x  |
  | ---- | ---- | ---- |
  | 7    | 5    | 1    |

  | rwx  | rwx  | rwx  |
  | ---- | ---- | ---- |
  | 7    | 7    | 7    |

> 000 代表没有任何权限 即--- --- ---
>



## 2.7 其他命令（理解）

用户分为普通用户（修改自己密码 需要原密码）和超级用户root（修改任何用户密码不需要原密码）

`sudo 命令` 可以让后面的命令 以 `超级用户权限root`执行

```shell
sudo chmod 666 /bin/ls
```

```shell
sudo -s 切换 root 用户 输入python密码
exit 命令：退出当前用户；如果是最后一个用户，那么退出终端
which 查看命令所在位置	which 命令
	which ls
```

gedit 文件名：打开文件

echo：写数据，echo “数据内容“ > 文件名

> 多次写入则覆盖原内容

whoami：查看当前用户

who：查看当前哪些用户正在使用

passwd：修改用户密码	passwd 用户名

```shell
passwd python
```

shutdown -r：关机